em(list= ls())
rm(list = ls())
rnorm(4)
rnorm(40)
x <- rnorm(20)
plot(x)
abline(x)
text(x)
text(x,  pos = 4)
plot(x)
text(x,  pos = 4, col = "red")
hist(x)
var(x)
plot(var(x))
text(x)
sd(x)
?sd
var(x)
sqrt(var(x))
sd(x)
hist(x)
y <- log(x)
x
y
y <- y[!is.na(y)]
y
library(swirl)
swirl()
ls
5+8
sp <- read.csv("C:/Users/Shubham Shukla/Desktop/internship/new/sweetness_prediction/ecfp.csv")
sp1 <- read.csv("C:/Users/Shubham Shukla/Desktop/internship/new/sweetness_prediction/new_data/ecfp_new.csv")
summary(sp)
table(sp$Sweetness)
table(sp$Sweetness > 22)
sp$Sweetness <- log10(sp$Sweetness)
sp <- read.csv("C:/Users/Shubham Shukla/Desktop/internship/new/sweetness_prediction/ecfp.csv")
table(sp$Sweetness)
sp$logSw <- log10(sp$Sweetness)
table(sp$logSw)
sp <- subset(sp, select = -c(-smiles, sweetness))
sp <- subset(sp, select = -c(smile,Sweetness))
sp <- subset(sp, select = -c(smiles,Sweetness))
sp$logSw
View(sp)
sp1 <- subset(sp1 , select = -c(smiles))
head(sp1)
new_sp <- rbind(sp,sp1)
new_sp$logSw
table(new_sp$logSw)
sapply(new_sp,sum)
sum_0 <- sapply(new_sp,sum)
sum_0
sum_0 >0
length(sum_0)
length(sum_0 >0)
sum(sum_0>0)
sum_0 <- sum_0 > 0
sum_0
table(sum_0)
x <- subset(sum_0 == T)
x <- subset(sum_0,sum_0 == T)
x
copy_new_sp <- new_sp
new_sp[x]
y <- new_sp[x]
y
View(y)
dim(y)
x
new_sp <- subset(new_sp , new_sp[x] == T)
View(new_sp)
new_sp <- copy_new_sp
new_sp <- subset(new_sp, sapply(new_sp, sum)>0)
sapply(new_sp,sum)
new_sp
View(new_sp)
new_sp$logSw
sapply(new_sp,sum)
new_sp <- copy_new_sp
new_sp <- subset(new_sp, sum_0 == T )
sapply(new_sp, sum)
sum(new_sp$X)
View(new_sp)
new_sp <- copy_new_sp
sapply(new_sp, sum)
dim(sum_0)
length(sum_0)
table(sapply(new_sp,sum))
p <- table(sapply(new_sp,sum))
p
p <- p >0
new_sp <- new_sp[,sapply(new_sp, sum) > 0]
sapply(new_sp,sum)
table(sapply(new_sp,sum))
library(glmnet)
library(glmnet)
library(caTools)
set.seed(100)
split <- sample.split(new_sp$logSw , SplitRatio = 0.75)
train <- subset(new_sp, split ==T)
test <- subset(new_sp, split == F)
train_x <- model.matrix(logSw ~., data = train)
View(train_x)
train_y <- train$logSw
train_x <- model.matrix(logSw ~.-1, data = train)
train_y <- train$logSw
View(train_x)
test_x <- model.matrix(logSw ~. -1, data = test)
test_y <- test$logSw
cv.lasso <- cv.glmnet(train_x, train_y, alpha = 1, nlambda = 100)
plot(cv.lasso)
cv.lasso$lambda.1se
cv.lasso$lambda.min
fit <- glmnet(train_x, train_y, alpha = 1, lambda = cv.lasso$lambda.1se)
model.predict <- predict(fit, newx = test_x)
plot(model.predict)
plot(fit)
sse <- sum((model.predict - test_y)^2)
sst <- sum((test_y - mean(train_y))^2)
1 - sse/sst
data.frame(model.predict,test_y)
sse
mean(model.predict)/length(model.predict)
mean(model.predict)
data.frame(model.predict,test_y, (test_y - model.predict))
data.frame(test_y,model.predict, (test_y - model.predict))
mean(model.predict - test_y)
mean( test_y-model.predict)
getwd()
setwd("C:/Users/Shubham Shukla/Desktop/internship/new/sweetness_prediction/new_data/)
""
"
setwd("C:/Users/Shubham Shukla/Desktop/internship/new/sweetness_prediction/new_data/")
dir()
write.csv(new_sp, "new_sp.csv")
plot(model.predict)
text(model.predict, pos = 4, col = "red")
plot(model.predict)
plot(model.predict)
text(model.predict, pos = 2, col = "red")
sse <- sum((model.predict - test_y)^2)
sst <- sum((test_y - mean(test_y))^2)
1 -sse/sst
sse <- sum((model.predict - test_y)^2)
sst <- sum((test_y - mean(test_y))^2)
1 -sse/sst
sst <- sum((test_y - mean(train_y))^2)
sse <- sum((model.predict - test_y)^2)
1 -sse/sst
